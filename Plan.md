# План автоматизации тестирования

# Перечень автоматизируемых сценариев

### Позитивные кейсы
Оплата одобренной дебетовой картой
На странице сервиса http://localhost:8080/ нажать кнопку Купить, ввести карту 4444 4444 4444 4441, валидные данные: месяц — 11, год — 24, владелец — Иван Иванов, CVC — 111.
Нажать Продолжить.
Ожидаемый результат: сообщение Операция одобрена.

Выдача кредита по одобренной карте
На главной странице нажать кнопку Купить в кредит, ввести карту 4444 4444 4444 4441, валидные данные: 11/24, Иван Иванов, CVC — 111.
Нажать Продолжить.
Ожидаемый результат: сообщение Операция одобрена.

Проверка записи в MySQL при оплате одобренной картой
Выполнить сценарий оплаты картой 4444 4444 4444 4441. Затем подключиться к MySQL (jdbc:mysql://localhost:3306/app).
Ожидаемый результат: в таблице payment_entity запись с amount = 45000, status = APPROVED.

Проверка записи в MySQL при кредите на одобренную карту
Выполнить сценарий оформления кредита с картой 4444 4444 4444 4441. Подключиться к MySQL.
Ожидаемый результат: в таблице credit_request_entity запись с status = APPROVED.

Проверка записи в PostgreSQL при оплате одобренной картой
Выполнить покупку с картой 4444 4444 4444 4441. Подключиться к PostgreSQL (jdbc:postgresql://localhost:5432/app).
Ожидаемый результат: в payment_entity запись с amount = 45000, status = APPROVED.

Проверка записи в PostgreSQL при кредите на одобренную карту
Оформить покупку в кредит по карте 4444 4444 4444 4441. Подключиться к PostgreSQL.
Ожидаемый результат: запись в таблице credit_request_entity со статусом APPROVED.


### Негативные кейсы

Оплата отклонённой дебетовой картой
На странице сервиса нажать Купить, ввести карту 4444 4444 4444 4442, валидные данные: 01/25, Петр Петров, CVC — 999.
Нажать Продолжить.
Ожидаемый результат: сообщение Операция отклонена.

Оформление кредита по отклонённой карте
На главной странице нажать Купить в кредит, карта 4444 4444 4444 4442, 01/25, Петр Петров, CVC — 999.
Нажать Продолжить.
Ожидаемый результат: сообщение Операция отклонена.

Оплата картой с пустыми полями
На главной странице нажать Купить, оставить все поля пустыми, нажать Продолжить.
Ожидаемый результат: под полем Номер карты отображается сообщение Поле обязательно для заполнения.

Оформление кредита с пустыми полями
На странице сервиса нажать Купить в кредит, оставить поля пустыми, нажать Продолжить.
Ожидаемый результат: под полем Номер карты появится сообщение Поле обязательно для заполнения.

Оплата картой с невалидными данными
Нажать Купить, ввести номер 4444 4444 4444 0000, данные: 05/25, Василий Васильев, CVC — 555.
Нажать Продолжить.
Ожидаемый результат: сообщение Ошибка! Банк отказал в проведении операции.

Кредит с невалидными данными карты
Нажать Купить в кредит, ввести 4444 4444 4444 0000, 05/25, Василий Васильев, CVC — 555.
Нажать Продолжить.
Ожидаемый результат: сообщение Ошибка! Банк отказал в проведении операции.

Проверка записи в MySQL при оплате отклонённой картой
Осуществить оплату с картой 4444 4444 4444 4442. Подключиться к MySQL.
Ожидаемый результат: запись в payment_entity с amount = 0, status = DECLINED.

Проверка записи в MySQL при кредите на отклонённую карту
Выполнить оформление кредита по карте 4444 4444 4444 4442. Подключиться к MySQL.
Ожидаемый результат: запись в credit_request_entity со статусом DECLINED.

Проверка записи в PostgreSQL при оплате отклонённой картой
Выполнить оплату с картой 4444 4444 4444 4442. Подключиться к PostgreSQL.
Ожидаемый результат: в payment_entity запись с amount = 0, status = DECLINED.

Проверка записи в PostgreSQL при кредите на отклонённую карту
Оформить кредит по карте 4444 4444 4444 4442. Подключиться к PostgreSQL.
Ожидаемый результат: в таблице credit_request_entity статус DECLINED.



  # Инструменты и обоснование выбора

| Инструмент       | Назначение                                                                 |
|------------------|----------------------------------------------------------------------------|
| `Selenide`       | Упрощение UI-тестов, лаконичный API, интеграция с JUnit                    |
| `JUnit 5`        | Организация и запуск автотестов, аннотации, удобные ассерты                |
| `Gradle`         | Управление зависимостями, сборка и конфигурация                            |
| `Lombok`         | Автоматическая генерация геттеров/сеттеров и других методов                |
| `Allure Report`  | Визуализация результатов тестирования в виде графиков и отчётов            |
| `Docker`         | Изолированное окружение для стабильного запуска тестов (при необходимости) |


# Перечень и описание возможных рисков при автоматизации
-  Изменение UI или локаторов → тесты могут ломаться  
  _Решение_: использовать устойчивые селекторы (`data-test-id`)
-  Нестабильные тесты → ложные срабатывания  
  _Решение_: добавление явных ожиданий
-  Ограниченные тестовые данные  
  _Решение_: использовать динамическую генерацию через `Faker`

# Интервальная оценка с учётом рисков в часах

| Этап                        | Оптимистично | Реалистично | Пессимистично | Возможные сложности                           |
|-----------------------------|--------------|-------------|----------------|----------------------------------------------|
| Настройка окружения         | 1.5 ч        | 3 ч         | 5 ч            | Проблемы с Docker, настройками               |
| Разработка UI-тестов        | 7 ч          | 10 ч        | 14 ч           | Изменения селекторов, флейки                 |
| Интеграция Allure-отчётов   | 1.5 ч        | 2 ч         | 4 ч            | Кастомизация, зависимые библиотеки           |
| **Общее время**             | **10 ч**     | **15 ч**    | **23 ч**       | —                                            |

>  **Комментарий:**  
> Оптимистичный вариант — при идеальных условиях.  
> Реалистичный — с учётом типичных задач.  
> Пессимистичный — с учётом возможных задержек и багов.

# План сдачи работ

| Этап                      | Срок    | Ответственный  | Результат                                   | Критерии завершения                                                                   |
|---------------------------|---------|----------------|----------------------------------------------|--------------------------------------------------------------------------------------|
| Подготовка инфраструктуры | День 1  | DevOps / QA    | Готово тестовое окружение                    | Запущены контейнеры, установлены зависимости, браузеры работают                      |
| Разработка автотестов     | Дни 2–5 | QA Automation  | Покрыты все ключевые сценарии                | Используются параметризованные тесты, данные с Faker, покрытие >90% требований       |
| Формирование отчёта       | День 6  | QA Lead        | Подключен Allure, визуализированы результаты | В отчёте есть баги (если найдены), рекомендации по улучшению                         |
| Финальный анализ          | День 7  | QA / PM        | Подведение итогов                            | Сравнение с планом, учтённые риски, обоснование фактических затрат времени           |
